{% extends 'banks/base.html' %}
{% block title %}Banks - Bank Management System{% endblock %}
{% block content %}
    <nav style="background-color: #333; padding: 10px; text-align: center;">
        <ul style="list-style-type: none; margin: 0; padding: 0;">
            <li style="display: inline; margin-right: 20px;">
                <button onclick="change_bank_display('add_bank')" style=" text-decoration: none; font-size: 18px;">Add New Bank</button>
            </li>
             <li style="display: inline; margin-right: 20px;">
                <button onclick="change_bank_display('show_banks')" style=" text-decoration: none; font-size: 18px;">Show Available Bank</button>
            </li>
            <li style="display: inline; margin-right: 20px;">
                <button onclick="change_bank_display('show_account')" style=" text-decoration: none; font-size: 18px;">Search Account</button>
            </li>
        </ul>
    </nav>
    <div id="add_bank" style="display: none; position: absolute;" >
        <form action="{% url 'banks' %}" method="POST">
            {% csrf_token %}
            <h2>Add New Bank</h2>
            <table>
                <tr>
                    <td style="width:50%;">
                        <label for="bank_name">Enter Bank Name:</label>
                    </td>
                    <td>
                        <input type="text" id="bank_name" name="bank_name" required style="width:200%; padding: 10px; margin-bottom: 20px;">
                    </td>
                </tr>
                <tr>
                    <td style="width:50%">
                        <label for="branch_name">Enter Branch Name:</label>
                    </td>
                    <td>
                        <input type="text" id="branch_name" name="branch_name" required style="width:200%; padding: 10px; margin-bottom: 20px;">
                    </td>
                </tr>
                <tr>
                    <td style="width:50%">
                        <label>Is Islamic:</label>
                    </td>
                    <td>
                        <input type="radio" id="yes" name="is_islamic" value="True" checked required>
                        <label for="yes" style="color: white;">Yes</label>

                        <input type="radio" id="no" name="is_islamic" value="False" required>
                        <label for="no" style="color: white;">No</label>
                    </td>
                </tr>
            </table>
            <button type="submit" style="padding: 10px 20px; background-color: #4CAF50; color: white; border: none; cursor: pointer; ">Submit</button>
        </form>
    </div>
    <div id="show_banks" style="display: block; position:absolute;" >
        <table>
            <tr>
                <th>Bank Name</th>
                <th>Branch Name</th>
                <th>Is Islamic</th>
            </tr>
            {% for bank in banks %}
            <tr>
                <td>{{ bank.bank_name }}</td>
                <td>{{ bank.branch_name }}</td>
                <td>{{ bank.is_islamic }}</td>
                <td>
                    <form method="POST" action="{% url 'accounts' bank_id=bank.id %}">
                        {% csrf_token %}
                        <button type="submit" style="padding: 10px 20px; background-color: #4CAF50; color: white; border: none; cursor: pointer; ">
                            Open New Account
                        </button>
                    </form>
                </td>
               <td>
                    <form method="POST" action="{% url 'del_bank' pk=bank.id %}" onsubmit="return confirm('Are you sure you want to delete this account?');">
                        {% csrf_token %}
                        <button type="submit" style="padding: 10px 20px; background-color: #4CAF50; color: white; border: none; cursor: pointer;">
                            Delete Bank
                        </button>
                    </form>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="5">No banks found.</td>
            </tr>
            {% endfor %}
        </table>
        <hr style="height:5px; background-color:black; margin: 30px 0">
    </div>
    <div id="show_account" style="display: none; position:absolute;" >
        <form method="GET" action="{% url 'search_account' %}">
            <table>
                <tr >
                    <td>
                        <input type="text" name="search" required style="width:200%; padding: 10px; margin-bottom: 20px;">
                    </td>
                </tr>
                <tr>
                    <td style="width:25%;">
                        <label for="bank_name">Search Account In:</label>
                    </td>
                    <td>
                        <button type="submit" style="padding: 10px 20px; background-color: #4CAF50; color: white; border: none; cursor: pointer;">
                            All Bank
                        </button>
                    </td>
                </tr>
            </table>
        </form>
    </div>
{% endblock %}